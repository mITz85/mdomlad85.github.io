<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Christmas Treasure Hunt</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>
</head>
<body>
<img id="map" width="2048" height="1159" src= "images/world_map.jpeg"  alt="treasure hunt" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>
    // Calculate distance between click event and target a
    const getDistance = function (event, target) {
        const diffX = event.offsetX - target.x;
        const diffY = event.offsetY - target.y;
        return Math.sqrt((diffX * diffX) + (diffY * diffY));
    };
    // Get a string representing the distance
    const getDistanceHint = function (distance) {
        if (distance < 30) {
            return {
                "color": "#750000",
                "text": "Boiling hot!"
            };
        } else if (distance < 60) {
            return {
                "color": "#c71414",
                "text": "Really hot!"
            };
        } else if (distance < 120) {
            return {
                "color": "#a82a2a",
                "text": "Hot"
            };
        } else if (distance < 240) {
            return {
                "color": "#d55e4f",
                "text": "Warm"
            };
        } else if (distance < 480) {
            return {
                "color": "#214273",
                "text": "Cold"
            };
        } else if (distance < 960) {
            return {
                "color": "#152b4b",
                "text": "Really cold!"
            };
        } else {
            return {
                "color": "#0b1728",
                "text": "Freezing"
            };
        }
    };
    let clicks = 0;
    const target = {
        x: 1170, y: 700
    };
    // Add a click handler to the img element ➌
    map = document.getElementById('map');
    map.addEventListener('click', function(event) {
        clicks++;
        // Get distance between click event and target ➍
        const distance = getDistance(event, target);
        // Convert distance to a hint ➎
        // If the click was close enough, tell them they won ➐
        if (distance < 24) {
            map.setAttribute("src", "images/location.jpeg");
            map.setAttribute("width", "564");
            map.setAttribute("height", "846");
            map.setAttribute("class", "ui image");
            Toastify({
                text: "Bravoooooooooooo, idemo u Zanzibar!!!!!!!!!! Jeaaaaaaaaaaa!!!!! Sretan Božić :)",
                duration: 10000,
                newWindow: false,
                close: false,
                gravity: "bottom", // `top` or `bottom`
                position: "left", // `left`, `center` or `right`
                stopOnFocus: true, // Prevents dismissing of toast on hover
                style: {
                    background: "linear-gradient(to right, #00b09b, #96c93d)",
                }
            }).showToast();
        } else {
            let hint = getDistanceHint(distance);
            Toastify({
                text: hint.text,
                duration: 2000,
                newWindow: true,
                close: true,
                gravity: "top", // `top` or `bottom`
                position: "right", // `left`, `center` or `right`
                stopOnFocus: true, // Prevents dismissing of toast on hover
                style: {
                    background: hint.color,
                }
            }).showToast();
        }
    });
</script>
</body>
</html>